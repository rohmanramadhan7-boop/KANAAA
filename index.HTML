<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>For Kana</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{--bg1:#ff9a9e;--bg2:#fad0c4}
    html,body{height:100%;margin:0}
    body {
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      color: #222;
    }

    /* Floating hearts */
    .heart { position:absolute; color:rgba(255,255,255,0.85); font-size:22px; animation:floatUp 6s linear infinite; text-shadow:0 2px 6px rgba(0,0,0,0.12);} 
    @keyframes floatUp{ from{transform:translateY(40px);opacity:0} 30%{opacity:1} to{transform:translateY(-600px);opacity:0} }

    /* Button */
    #openBtn{ background:white; padding:18px 36px; border-radius:999px; box-shadow:0 8px 30px rgba(0,0,0,0.18); font-size:28px; font-weight:700; cursor:pointer; transition:transform .18s ease,box-shadow .18s ease,opacity .25s ease; }
    #openBtn:hover{ transform:translateY(-6px) scale(1.02); }

    /* Overlay */
    #overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.55); display:none; justify-content:center; align-items:center; padding:24px; }

    /* Message Box */
    #messageBox{ width:100%; max-width:760px; max-height:80vh; overflow-y:auto; background:rgba(255,255,255,0.96); border-radius:16px; padding:28px; box-shadow:0 12px 40px rgba(10,10,20,0.18); color:#111; }
    h1{ font-family:'Great Vibes',cursive; font-size:56px; text-align:center; margin-top:0 }
    p{ font-size:18px; line-height:1.7; white-space:pre-line }

    #closeBtn{ margin-top:18px; padding:10px 18px; border:none; background:#ff6b81; color:white; font-size:15px; border-radius:10px; cursor:pointer }
    @media(max-width:640px){ h1{font-size:40px} #openBtn{font-size:20px;padding:12px 20px} #messageBox{padding:18px} }
  </style>
</head>
<body>

  <div id="openBtn" role="button" tabindex="0">For Kana</div>

  <div id="overlay" aria-hidden="true">
    <div id="messageBox" role="dialog" aria-modal="true" aria-label="Pesan untuk Kana">
      <h1>Untuk Kana</h1>
      <p id="text">Halo kana, aku kangen sama kamu pake bangetttt lho.
Maafin aku yahâ€¦ maaf banget kalau aku selalu bikin kamu emosi.
maaf yah, kalo aku cm bisa kayak gini. aku masih pengen bareng sama kamu jadi maafin aku yahh.
aku cm pengen buat kamu seneng, biar respon kamu sama kaya pas waktu abis makan seafood bareng.
aku seneng bangett kalo respon kamu kayak gitu, tapi aku juga seneng klo pun direspon seadanya.
tapi kalo kamu gk ngerespon tolong kasih tau aku juga, biar aku tau kamu lagi apa biar aku gk ganggu.
aku harap setelah pesan ini aku boleh lagi gk nanyain kabar kamu tiap hari, nanyain kamu udah makan apa belum,
atau ngingetin kamu lagi buat jaga kesehatanðŸ¥¹ðŸ¥¹ðŸ¥º.
mungkin sekarang permintaan maafku sebatas tulisan, kalo kita ketemuan nanti aku traktir hehe.
maaf yahh sekali lagi. jadi aku boleh kayak dlu lagi gk???ðŸ¥¹ðŸ¥¹.
maaf yahh aku kangennnnnn bangettttt.
meskipun gk chatan, aku masih mikirin kamu meskipun aku tau kamu mungkin gk mikirin aku.
jadi aku ngehargain respon kamu kalo kamu gk mau aku kayak dlu lagi, soalnya cm aku doang yang ngerasa gitu.
aku takut ganggu banget ke kamu.
kan kamu sekarang sibuk banget kan, jadi aku takut nge ganggu ke kamu,
yang mungkin nanti bisa bikin mood kamu jadi makin emosi.
tapi setidaknya kamu maafin aku yahh, meskipun gk mau kayak dlu.
aku gk mau aku jadi buruk di mata kamu ðŸ¥¹ðŸ¥¹ðŸ¥¹.
maafin aku yahhh</p>

      <div style="display:flex;gap:10px;justify-content:flex-end;align-items:center;margin-top:12px">
        <button id="closeBtn">Tutup</button>
      </div>
    </div>
  </div>

  <!-- Background music - make sure musikku.mp3 uploaded to same repo as index.html on GitHub -->
  <audio id="bgm" src="musikku.mp3" preload="auto" loop></audio>

  <script>
  document.addEventListener('DOMContentLoaded', function(){
    // Floating hearts
    for (let i = 0; i < 20; i++){
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = 'â¤';
      h.style.left = Math.random() * 100 + 'vw';
      h.style.top = 80 + Math.random() * 20 + 'vh';
      h.style.fontSize = (12 + Math.random()*26) + 'px';
      h.style.animationDuration = (5 + Math.random()*6) + 's';
      document.body.appendChild(h);
    }

    const openBtn  = document.getElementById('openBtn');
    const overlay  = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const bgm      = document.getElementById('bgm');

    function openMessage(){
      try{
        overlay.style.display = 'flex';
        overlay.setAttribute('aria-hidden','false');
        openBtn.style.opacity = '0';
        openBtn.style.pointerEvents = 'none';

        // Start music (user gesture) and handle promise
        if (bgm){
          bgm.volume = 0.6;
          const p = bgm.play();
          if (p && p.then) p.then(()=> console.log('Music playing')).catch(e=> console.log('Music play blocked', e));
        }

        // ensure message is visible
        const messageBox = document.getElementById('messageBox');
        messageBox.scrollTop = 0;
      }catch(err){
        console.error('openMessage error', err);
      }
    }

    function closeMessage(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
      openBtn.style.opacity = '1';
      openBtn.style.pointerEvents = 'auto';
      if (bgm){ bgm.pause(); bgm.currentTime = 0; }
    }

    openBtn.addEventListener('click', openMessage);
    openBtn.addEventListener('keydown', (e)=>{ if (e.key === 'Enter' || e.key === ' '){ e.preventDefault(); openMessage(); } });
    closeBtn.addEventListener('click', closeMessage);

    // Accessibility: allow closing overlay by pressing Escape
    document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape'){ closeMessage(); } });

    // Helpful console info when audio can't play
    bgm.addEventListener && bgm.addEventListener('error', function(){ console.warn('Audio failed to load. Make sure musikku.mp3 is uploaded and the path is correct.'); });

  });
  </script>

</body>
</html>
